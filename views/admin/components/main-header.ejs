<header class="bg-white border-b px-6 py-4 flex justify-between items-center">
  <!-- LEFT -->
  <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-3">
    <span class="rounded-full bg-indigo-50 px-4 py-1 text-sm font-semibold text-indigo-700">
      <%= admin.username.toUpperCase() %>
    </span>
    <%= pageTitle %>
  </h2>

  <!-- RIGHT -->
  <div class="flex items-center gap-5">

    <!-- BACK -->
<button
  id="backBtn"
  type="button"
  class="flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 bg-gray-100 px-3 py-2 rounded-lg hover:bg-gray-200 transition"
>
  <i class="fa-solid fa-arrow-left"></i>
  Back
</button>

    <!-- ðŸ”” NOTIFICATIONS -->
    <div class="relative">

      <!-- Bell -->
      <button
        id="notification-bell"
        type="button"
        class="relative p-2 rounded-full hover:bg-gray-100 transition text-gray-600 hover:text-gray-900"
      >
        <i class="fa-regular fa-bell text-lg"></i>

        <% if (totalUnreadNotifications > 0) { %>
          <span
            id="notification-badge"
            class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full font-medium"
          >
            <%= totalUnreadNotifications %>
          </span>
        <% } %>
      </button>

      <!-- DROPDOWN -->
      <div
  id="notification-dropdown"
  class="hidden absolute right-0 mt-3 w-96 bg-white border rounded-xl shadow-xl z-50 overflow-hidden"
>
  <!-- HEADER -->
  <div class="px-4 py-3 border-b flex items-center justify-between">
    <h4 class="text-sm font-semibold text-gray-700">
      Notifications
    </h4>
    <span class="text-xs text-gray-500">
  <%= totalUnreadNotifications %> unread â€¢ <%= totalNotifications %> total
</span>
  </div>

  <!-- LIST -->
  <div id="notification-list" class="max-h-[360px] overflow-y-auto">
    <% if (notifications?.length) { %>

      <% notifications.forEach(n => { %>
        <a
          href="#"
          data-id="<%= n._id %>"
  data-read="<%= n.isRead %>"
          class="
    notification-item
    relative flex gap-3 px-4 py-3 border-b text-sm transition
    <%= n.isRead ? 'hover:bg-gray-50' : 'bg-indigo-50/60 hover:bg-indigo-50' %>
  "
        >
          <!-- LEFT ACCENT FOR UNREAD -->
          <% if (!n.isRead) { %>
            <span class="absolute left-0 top-0 h-full w-1 bg-indigo-500"></span>
          <% } %>

          <!-- ICON -->
          <div class="mt-1 text-indigo-600 shrink-0">
            <i class="fa-solid fa-circle-info"></i>
          </div>

          <!-- CONTENT -->
          <div class="flex-1">
            <p
              class="
                leading-relaxed
                <%= n.isRead ? 'text-gray-700' : 'text-gray-900 font-medium' %>
              "
            >
              <%= n.message %>
            </p>

            <span class="text-xs text-gray-400">
              <%= new Date(n.createdAt).toLocaleString() %>
            </span>
          </div>

          <!-- UNREAD DOT -->
          <% if (!n.isRead) { %>
            <span class="mt-2 w-2 h-2 bg-indigo-500 rounded-full"></span>
          <% } %>
        </a>
      <% }) %>

      <!-- READ MORE -->
      <% if (totalNotifications > notifications.length) { %>
        <a
          href="/authors/notifications"
          class="block px-4 py-3 text-center text-sm font-medium text-indigo-600 hover:bg-indigo-50 transition"
        >
          Read more â†’
        </a>
      <% } %>

    <% } else { %>

      <!-- EMPTY STATE -->
      <div class="px-6 py-8 text-center text-sm text-gray-500">
        <i class="fa-regular fa-bell-slash text-2xl mb-2 text-gray-400"></i>
        <p>No new notifications</p>
      </div>

    <% } %>
  </div>
</div>
    </div>

    <!-- LOGOUT -->
    <form action="/admin/auth/logout" method="POST">
      <button
        type="submit"
        class="flex items-center gap-2 text-sm font-medium text-red-600 bg-red-50 px-3 py-2 rounded-lg hover:bg-red-100 transition"
      >
        <i class="fa-solid fa-right-from-bracket"></i>
        Logout
      </button>
    </form>

  </div>
</header>
